<!DOCTYPE html>
<html>
  <head>
    <title>Weathering With Me</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/style.css" />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
    />
  </head>
  <body class="bg-backgroundWhite">
    <div class="flex justify-center items-center flex-col max-w-md mx-auto p-4">
      <img
        src="/images/WeatherIcon2.png"
        class="size-48 mx-auto"
        alt="Weather Icon"
      />
      <h1 class="text-titleOrange text-4xl w-max font-Lato font-bold">
        Weathering With Me
      </h1>

      <div class="mt-4">
        <form action="/weather" method="get" class="p-6 flex flex-row gap-x-2">
          <input
            type="text"
            name="city"
            placeholder="Enter city name"
            class="w-52 border border-gray-300 p-4 text-base font-lato rounded-lg flex-1"
          />
          <button
            type="submit"
            class="w-32 p-4 text-backgroundWhite font-lato bg-buttonBlue text-white text-base rounded-lg hover:bg-buttonBlue-200"
          >
            Get Weather
          </button>
        </form>
        <% if (error) { %>
        <p class="text-red-500 text-xl font-semibold"><%= error %></p>
        <% } else if (weather) { %>
        <div class="flex justify-center">
          <div class="flex flex-col items-center gap-y-4 mt-12 justify-center">
            <p class="font-lato text-xl text-left w-full items-start">
              <i class="fas fa-thermometer-half mr-2"></i>
              <%= weather.main.temp %>&deg;F
            </p>
            <p class="font-lato text-xl text-left w-full items-start">
              <i class="fas fa-cloud mr-2"></i>
              <%= weather.weather[0].main %>
            </p>
            <p class="font-lato text-xl text-left w-full items-start">
              <i class="fas fa-map-marker-alt mr-2"></i>
              <%= weather.name %>, <%= weather.sys.country %>
            </p>
          </div>
        </div>
        <% } %>
      </div>
    </div>
  </body>
</html>
